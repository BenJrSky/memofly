{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js??ref--13-2!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/ClientsTable.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/ClientsTable.vue","mtime":1632248241596},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1632248232528},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1632248240050},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1632248240770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYmVuL0Rlc2t0b3AvQkVOL1dPUktTL0ZMWUlQL1ZVRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9iZW4vRGVza3RvcC9CRU4vV09SS1MvRkxZSVAvVlVFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2Jlbi9EZXNrdG9wL0JFTi9XT1JLUy9GTFlJUC9WVUUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvYmVuL0Rlc2t0b3AvQkVOL1dPUktTL0ZMWUlQL1ZVRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9iZW4vRGVza3RvcC9CRU4vV09SS1MvRkxZSVAvVlVFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IENsaWVudCB9IGZyb20gJy4uL3NjaGVtYS9jbGFzc2VzLmpzJzsKaW1wb3J0IHsgR0VUQ2xpZW50cyB9IGZyb20gIi4uL21lbW9GbHktYXBpL0dFVENsaWVudHMuanMiOwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuL2NvbW1vbi9QYWdpbmF0aW9uLnZ1ZSc7CmltcG9ydCBEaWFsb2cgZnJvbSAnLi9jb21tb24vRGlhbG9nLnZ1ZSc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAiLi4vc2VydmljZXMvVG9hc3QuanMiOwoKdmFyIENsaWVudHNUYWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhDbGllbnRzVGFibGUsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENsaWVudHNUYWJsZSk7CgogIGZ1bmN0aW9uIENsaWVudHNUYWJsZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGllbnRzVGFibGUpOwoKICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhDbGllbnRzVGFibGUsIFt7CiAgICBrZXk6ICJkYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBjb3dvcmtlcnM6IHRoaXMuY293b3JrZXJzLAogICAgICAgIGNsaWVudHM6IHRoaXMuY2xpZW50cwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBHRVRDbGllbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5jbGllbnRzID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2VuemFOb21lID0gcmVzcG9uc2UuZGF0YS5zZW56YU5vbWUubWFwKGZ1bmN0aW9uIChwZXJzb24pIHsKICAgICAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBDbGllbnQoKTsKCiAgICAgICAgICAgIGlmICgncGhvbmUnIGluIHBlcnNvbikgewogICAgICAgICAgICAgIGNsaWVudC5ub21lID0gcGVyc29uLnBob25lOwogICAgICAgICAgICAgIGNsaWVudC5jb2dub21lID0gIiI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzLmNsaWVudHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlc3BvbnNlLmRhdGEucmVnaXN0cmF0aSksIF90b0NvbnN1bWFibGVBcnJheShyZXNwb25zZS5kYXRhLnNlbnphTm9tZSkpLm1hcChmdW5jdGlvbiAocGVyc29uKSB7CiAgICAgICAgICAgIHZhciBjbGllbnQgPSBuZXcgQ2xpZW50KCk7CgogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGVyc29uKSB7CiAgICAgICAgICAgICAgaWYgKGtleSBpbiBjbGllbnQpIHsKICAgICAgICAgICAgICAgIGNsaWVudFtrZXldID0gcGVyc29uW2tleV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gY2xpZW50OwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBUb2FzdChyZXNwb25zZSwgewogICAgICAgICAgc3VjY2VzczogIkNsaWVudGkgY2FyaWNhdGkgY29ycmV0dGFtZW50ZSIsCiAgICAgICAgICBlcnJvcjogIkVycm9yZSBkdXJhbnRlIGlsIGNhcmljYW1lbnRvIGRlaSBjbGllbnRpISIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2xpZW50c1RhYmxlOwp9KFZ1ZSk7CgpDbGllbnRzVGFibGUgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24sCiAgICBEaWFsb2c6IERpYWxvZwogIH0KfSldLCBDbGllbnRzVGFibGUpOwpleHBvcnQgZGVmYXVsdCBDbGllbnRzVGFibGU7"},{"version":3,"sources":["/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/ClientsTable.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AAmCA,SAAS,SAAT,EAA0B,GAA1B,QAAqC,wBAArC;AACA,SAAS,MAAT,QAAuB,sBAAvB;AACA,SAAS,UAAT,QAA2B,8BAA3B;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,MAAP,MAAmB,qBAAnB;AACA,SAAS,KAAT,QAAsB,sBAAtB;;AASA,IAAqB,YAArB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,WAME,gBAAI;AAEF,WAAK,IAAL;AAEA,aAAO;AACL,QAAA,SAAS,EAAE,KAAK,SADX;AAEL,QAAA,OAAO,EAAE,KAAK;AAFT,OAAP;AAKD;AAfH;AAAA;AAAA,WAiBE,gBAAI;AAAA;;AAEF,MAAA,UAAU,GACP,IADH,CACQ,UAAC,QAAD,EAAiB;AACnB,QAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;;AAEA,YAAG,QAAQ,CAAC,MAAT,IAAmB,GAAtB,EAA0B;AAEtB,UAAA,QAAQ,CAAC,IAAT,CAAc,SAAd,GAA0B,QAAQ,CAAC,IAAT,CAAc,SAAd,CAAwB,GAAxB,CAA4B,UAAC,MAAD,EAAe;AAE7D,gBAAI,MAAM,GAAG,IAAI,MAAJ,EAAb;;AAEA,gBAAG,WAAW,MAAd,EAAqB;AACnB,cAAA,MAAM,CAAC,IAAP,GAAc,MAAM,CAAC,KAArB;AACA,cAAA,MAAM,CAAC,OAAP,GAAiB,EAAjB;AACD;;AAED,mBAAO,MAAP;AAEP,WAXyB,CAA1B;AAaA,UAAA,KAAI,CAAC,OAAL,GAAe,6BAAI,QAAQ,CAAC,IAAT,CAAc,UAAlB,sBAAiC,QAAQ,CAAC,IAAT,CAAc,SAA/C,GAA0D,GAA1D,CAA8D,UAAC,MAAD,EAAc;AAEvF,gBAAI,MAAM,GAAG,IAAI,MAAJ,EAAb;;AAEI,iBAAI,IAAI,GAAR,IAAe,MAAf,EAAsB;AAClB,kBAAG,GAAG,IAAI,MAAV,EAAiB;AACf,gBAAA,MAAM,CAAC,GAAD,CAAN,GAAc,MAAM,CAAC,GAAD,CAApB;AACD;AACJ;;AAED,mBAAO,MAAP;AACP,WAXc,CAAf;AAcH;;AAGD,QAAA,KAAK,CAAC,QAAD,EAAU;AAAC,UAAA,OAAO,EAAC,gCAAT;AAA0C,UAAA,KAAK,EAAC;AAAhD,SAAV,CAAL;AACH,OArCH;AAuCD;AA1DH;;AAAA;AAAA,EAA0C,GAA1C,CAAA;;AAAqB,YAAY,GAAA,UAAA,CAAA,CAPhC,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,MAAM,EAAN;AAFU;AADH,CAAD,CAOuB,CAAA,EAAZ,YAAY,CAAZ;eAAA,Y","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { Client } from '../schema/classes.js'\r\nimport { GETClients } from \"../memoFly-api/GETClients.js\";\r\nimport Pagination from './common/Pagination.vue';\r\nimport Dialog from './common/Dialog.vue'\r\nimport { Toast } from \"../services/Toast.js\";\r\n\r\n@Component({\r\n  components: {\r\n    Pagination,\r\n    Dialog\r\n  },\r\n})\r\n\r\nexport default class ClientsTable extends Vue  {\r\n\r\n  public coworkers :any;\r\n  public clients :any;\r\n\r\n\r\n  data() {\r\n\r\n    this.init();\r\n\r\n    return {\r\n      coworkers: this.coworkers,\r\n      clients: this.clients,\r\n    }\r\n\r\n  }\r\n\r\n  init(){\r\n\r\n    GETClients()\r\n      .then((response: any)=>{\r\n          this.clients = response.data;\r\n\r\n          if(response.status == 200){\r\n\r\n              response.data.senzaNome = response.data.senzaNome.map((person: any)=>{\r\n\r\n                      let client = new Client;\r\n\r\n                      if('phone' in person){\r\n                        client.nome = person.phone;\r\n                        client.cognome = \"\";\r\n                      }\r\n\r\n                      return client;\r\n\r\n              });\r\n\r\n              this.clients = [...response.data.registrati, ...response.data.senzaNome].map((person:any)=>{\r\n\r\n                  let client = new Client;\r\n\r\n                      for(let key in person){\r\n                          if(key in client){\r\n                            client[key] = person[key];\r\n                          }\r\n                      }\r\n\r\n                      return client;\r\n              });\r\n\r\n\r\n          }\r\n          \r\n\r\n          Toast(response,{success:\"Clienti caricati correttamente\",error:\"Errore durante il caricamento dei clienti!\"});\r\n      })\r\n\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}]}