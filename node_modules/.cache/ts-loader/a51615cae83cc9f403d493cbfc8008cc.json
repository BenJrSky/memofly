{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js??ref--13-2!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/AccountDetails.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/AccountDetails.vue","mtime":1632248241607},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1632248232528},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1632248240050},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1632248240770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Jlbi9EZXNrdG9wL0JFTi9XT1JLUy9GTFlJUC9WVUUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9iZW4vRGVza3RvcC9CRU4vV09SS1MvRkxZSVAvVlVFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2Jlbi9EZXNrdG9wL0JFTi9XT1JLUy9GTFlJUC9WVUUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvYmVuL0Rlc2t0b3AvQkVOL1dPUktTL0ZMWUlQL1ZVRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9iZW4vRGVza3RvcC9CRU4vV09SS1MvRkxZSVAvVlVFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBHRVRVc2VyIH0gZnJvbSAiLi4vLi4vbWVtb0ZseS1hcGkvR0VUVXNlci5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKCnZhciBVc2VyRGV0YWlscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhVc2VyRGV0YWlscywgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVXNlckRldGFpbHMpOwoKICBmdW5jdGlvbiBVc2VyRGV0YWlscygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlckRldGFpbHMpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5jb21wYW55ID0ge307CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVXNlckRldGFpbHMsIFt7CiAgICBrZXk6ICJkYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBjb21wYW55OiB0aGlzLmNvbXBhbnksCiAgICAgICAgdGVzdDogdGhpcy50ZXN0CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNvbXBhbnkgPSBbXTsKICAgICAgR0VUVXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIF90aGlzMi5wcm9jZXNzKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuY29tcGFueSA9IFtdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvY2VzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzcyhjb21wYW55KSB7CiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGNvbXBhbnkpKTsKICAgICAgdmFyIHJlc3VsdCA9IHt9OyAvL0ZPUk1BVFRJTkcgCgogICAgICBpZiAoY29tcGFueSkgewogICAgICAgIGNvbXBhbnkuc290dG9zY3JpemlvbmUgPSBjb21wYW55LnNvdHRvc2NyaXppb25lLnJlcGxhY2UoIk1lbW9mbHkiLCAiIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tcGFueSA9IHt9OwogICAgICB9IC8vQ09VTlQgRU5EIElOIERBWVMKCgogICAgICB2YXIgc3RhcnREYXRlID0gbW9tZW50KGNvbXBhbnkuaW5pemlvU290dG9zY3JpemlvbmUsICJERC1NTS1ZWVlZIik7CiAgICAgIHZhciBlbmREYXRlID0gbW9tZW50KGNvbXBhbnkuZmluZVNvdHRvc2NyaXppb25lLCAiREQtTU0tWVlZWSIpOwogICAgICB2YXIgZW5kSW5EYXlzID0gcGFyc2VJbnQobW9tZW50KGVuZERhdGUuZGlmZihzdGFydERhdGUpKS5mb3JtYXQoIkREIikpOwogICAgICB2YXIgZGF5U3RyaW5nID0gIiI7CiAgICAgIHZhciBzbXNTdHJpbmcgPSAiIjsKICAgICAgdmFyIGNhbGVuZGFyU3RyaW5nID0gIiI7CgogICAgICBpZiAoZW5kSW5EYXlzIDw9IDApIHsKICAgICAgICBkYXlTdHJpbmcgPSAiYWJib25hbWVudG8gc2NhZHV0byI7CiAgICAgIH0KCiAgICAgIGlmIChlbmRJbkRheXMgPT0gMSkgewogICAgICAgIGRheVN0cmluZyA9ICJ1bHRpbW8gZ2lvcm5vIHJpbWFuZW50ZSI7CiAgICAgIH0KCiAgICAgIGlmIChlbmRJbkRheXMgPiAxKSB7CiAgICAgICAgZGF5U3RyaW5nID0gZW5kSW5EYXlzICsgIiBnaW9ybmkgcmltYW5lbnRpIjsKICAgICAgfQoKICAgICAgc21zU3RyaW5nID0gY29tcGFueS5zbXNUb3RhbGkgKyAiIHNtcyBhbCBtZXNlIjsKCiAgICAgIGlmIChjb21wYW55Lm51bUNhbGVuZGFyaSA8PSAxKSB7CiAgICAgICAgY2FsZW5kYXJTdHJpbmcgPSBjb21wYW55Lm51bUNhbGVuZGFyaSArICIgY2FsZW5kYXJpbyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsZW5kYXJTdHJpbmcgPSBjb21wYW55Lm51bUNhbGVuZGFyaSArICIgY2FsZW5kYXJpIjsKICAgICAgfQoKICAgICAgcmVzdWx0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb21wYW55KSwge30sIHsKICAgICAgICBnaW9ybmlSaW1hbmVudGk6IGRheVN0cmluZywKICAgICAgICBtZXNzYWdnaU1lc2U6IHNtc1N0cmluZywKICAgICAgICBjYWxlbmRhcmk6IGNhbGVuZGFyU3RyaW5nCiAgICAgIH0pOwogICAgICB0aGlzLmNvbXBhbnkgPSByZXN1bHQ7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVXNlckRldGFpbHM7Cn0oVnVlKTsKClVzZXJEZXRhaWxzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7fQp9KV0sIFVzZXJEZXRhaWxzKTsKZXhwb3J0IGRlZmF1bHQgVXNlckRldGFpbHM7"},{"version":3,"sources":["/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/AccountDetails.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AAoBA,SAAS,SAAT,EAA0B,GAA1B,QAAqC,wBAArC;AACA,SAAS,OAAT,QAAwB,8BAAxB;AACA,OAAO,MAAP,MAAmB,QAAnB;;AAQA,IAAqB,WAArB;AAAA;;AAAA;;AAAA,yBAAA;AAAA;;AAAA;;;AAES,UAAA,OAAA,GAAe,EAAf;AAFT;AAqFC;;AArFD;AAAA;AAAA,WAKE,gBAAI;AAEF,WAAK,IAAL;AAEA,aAAO;AACL,QAAA,OAAO,EAAE,KAAK,OADT;AAEL,QAAA,IAAI,EAAE,KAAK;AAFN,OAAP;AAID;AAbH;AAAA;AAAA,WAeE,gBAAI;AAAA;;AACF,WAAK,OAAL,GAAe,EAAf;AAEF,MAAA,OAAO,GACJ,IADH,CACQ,UAAC,QAAD,EAAkB;AAEpB,YAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,UAAA,MAAI,CAAC,OAAL,CAAa,QAAQ,CAAC,IAAtB;AACD,SAFD,MAEO;AACL,UAAA,MAAI,CAAC,OAAL,GAAe,EAAf;AACD;AAEF,OATL;AAWC;AA7BH;AAAA;AAAA,WA+BE,iBAAQ,OAAR,EAAe;AAEb,MAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,OAAf,CAAZ;AAEA,UAAI,MAAM,GAAG,EAAb,CAJa,CAMb;;AACA,UAAG,OAAH,EAAW;AACT,QAAA,OAAO,CAAC,cAAR,GAAyB,OAAO,CAAC,cAAR,CAAuB,OAAvB,CAA+B,SAA/B,EAAyC,EAAzC,CAAzB;AACD,OAFD,MAEK;AACH,QAAA,OAAO,GAAG,EAAV;AACD,OAXY,CAab;;;AACA,UAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,oBAAT,EAA+B,YAA/B,CAAtB;AACA,UAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAT,EAA6B,YAA7B,CAApB;AACA,UAAI,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IAAR,CAAa,SAAb,CAAD,CAAN,CAAgC,MAAhC,CAAuC,IAAvC,CAAD,CAAxB;AAEA,UAAI,SAAS,GAAG,EAAhB;AACA,UAAI,SAAS,GAAG,EAAhB;AACA,UAAI,cAAc,GAAG,EAArB;;AAEA,UAAI,SAAS,IAAE,CAAf,EAAiB;AACf,QAAA,SAAS,GAAG,qBAAZ;AACD;;AAED,UAAI,SAAS,IAAE,CAAf,EAAiB;AACf,QAAA,SAAS,GAAG,yBAAZ;AACD;;AAED,UAAI,SAAS,GAAC,CAAd,EAAgB;AACd,QAAA,SAAS,GAAG,SAAS,GAAG,mBAAxB;AACD;;AAED,MAAA,SAAS,GAAG,OAAO,CAAC,SAAR,GAAoB,cAAhC;;AAEA,UAAG,OAAO,CAAC,YAAR,IAAuB,CAA1B,EAA6B;AACzB,QAAA,cAAc,GAAG,OAAO,CAAC,YAAR,GAAuB,aAAxC;AACH,OAFD,MAEK;AACD,QAAA,cAAc,GAAG,OAAO,CAAC,YAAR,GAAuB,YAAxC;AACH;;AAED,MAAA,MAAM,mCACC,OADD;AAEF,QAAA,eAAe,EAAE,SAFf;AAGF,QAAA,YAAY,EAAE,SAHZ;AAIF,QAAA,SAAS,EAAE;AAJT,QAAN;AAQA,WAAK,OAAL,GAAe,MAAf;AAED;AAnFH;;AAAA;AAAA,EAAyC,GAAzC,CAAA;;AAAqB,WAAW,GAAA,UAAA,CAAA,CAN/B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AADH,CAAD,CAMsB,CAAA,EAAX,WAAW,CAAX;eAAA,W","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { GETUser } from \"../../memoFly-api/GETUser.js\";\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  components: {\r\n\r\n  },\r\n})\r\n\r\nexport default class UserDetails extends Vue {\r\n\r\n  public company: any = {};\r\n  public test :any;\r\n\r\n  data() {\r\n\r\n    this.init();\r\n\r\n    return {\r\n      company: this.company,\r\n      test: this.test,\r\n    };\r\n  }\r\n\r\n  init() {\r\n    this.company = [];\r\n\r\n  GETUser()\r\n    .then((response: any) => {\r\n\r\n        if (response.status == 200) {\r\n          this.process(response.data);\r\n        } else {\r\n          this.company = [];\r\n        }\r\n\r\n      });\r\n\r\n  }\r\n\r\n  process(company){\r\n\r\n    console.log(JSON.stringify(company))\r\n\r\n    let result = {};\r\n\r\n    //FORMATTING \r\n    if(company){\r\n      company.sottoscrizione = company.sottoscrizione.replace(\"Memofly\",\"\");\r\n    }else{\r\n      company = {};\r\n    }\r\n\r\n    //COUNT END IN DAYS\r\n    let startDate = moment(company.inizioSottoscrizione, \"DD-MM-YYYY\");\r\n    let endDate = moment(company.fineSottoscrizione, \"DD-MM-YYYY\");\r\n    let endInDays = parseInt(moment(endDate.diff(startDate)).format(\"DD\"));\r\n\r\n    let dayString = \"\";\r\n    let smsString = \"\";\r\n    let calendarString = \"\";\r\n\r\n    if (endInDays<=0){\r\n      dayString = \"abbonamento scaduto\";\r\n    }\r\n\r\n    if (endInDays==1){\r\n      dayString = \"ultimo giorno rimanente\";\r\n    }\r\n\r\n    if (endInDays>1){\r\n      dayString = endInDays + \" giorni rimanenti\";\r\n    }\r\n\r\n    smsString = company.smsTotali + \" sms al mese\";\r\n\r\n    if(company.numCalendari <=1 ){\r\n        calendarString = company.numCalendari + \" calendario\";\r\n    }else{\r\n        calendarString = company.numCalendari + \" calendari\";\r\n    }\r\n\r\n    result = { \r\n        ...company,  \r\n        giorniRimanenti: dayString,\r\n        messaggiMese: smsString,\r\n        calendari: calendarString\r\n      };\r\n\r\n\r\n    this.company = result;\r\n\r\n  }\r\n \r\n}\r\n\r\n"],"sourceRoot":""}]}