{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/WebBooking.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/WebBooking.vue","mtime":1630356691230},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1630067775262},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1630067785662},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgR0VUQ2FsZW5kYXJzIH0gZnJvbSAiLi4vbWVtb0ZseS1hcGkvR0VUQ2FsZW5kYXJzLmpzIjsKaW1wb3J0IHsgUFVUU2x1ZyB9IGZyb20gIi4uL21lbW9GbHktYXBpL1BVVFNsdWcuanMiOwoKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICIuLi9zZXJ2aWNlcy9Ub2FzdC5qcyI7CgpAQ29tcG9uZW50KHsKICAgIGNvbXBvbmVudHM6IHsKICAgIH0sCn0pCgoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQm9va2luZyBleHRlbmRzIFZ1ZSB7CgogICAgcHVibGljIHNsdWc6IHN0cmluZyA9ICIiOwogICAgcHVibGljIGlGcmFtZTogc3RyaW5nID0gIiI7CiAgICBwdWJsaWMgd2ViQm9va2luZ0xpbms6IHN0cmluZyA9ICJodHRwczovL2NhbGVuZGFyLm1lbW9mbHkuaXQvIjsKCgogICAgZGF0YSgpIHsKICAgICAgICAKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzbHVnOiB0aGlzLnNsdWcsCiAgICAgICAgICAgIGlGcmFtZTogdGhpcy5pRnJhbWUsCiAgICAgICAgfQogICAgICAgIAogICAgfQoKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICB9CgogICAgaW5pdCgpewoKICAgICAgICAgR0VUQ2FsZW5kYXJzKCkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOmFueSk9PnsKCiAgICAgICAgICAgICAgICB0aGlzLnNsdWcgPSByZXNwb25zZS5kYXRhLnNsdWc7CiAgICAgICAgICAgICAgICB0aGlzLmlGcmFtZSA9ICI8aWZyYW1lIHNyYz0naHR0cHM6Ly9jYWxlbmRhci5tZW1vZmx5Lml0LyIrIHRoaXMuc2x1ZyArIicgc3R5bGU9J3dpZHRoOiAxMDAlOyBoZWlnaHQ6IDgwdmg7IGJhY2tncm91bmQ6ICNmZmYnPjwvaWZyYW1lPiI7CgogICAgICAgICAgICB9KTsKCiAgICB9CgogICAgdXBkYXRlKCl7CgogICAgICAgIGlmKHRoaXMuc2x1ZyAmJiB0aGlzLnNsdWcubGVuZ3RoPjEpeyAKCiAgICAgICAgICAgIGNvbnN0IHNsdWcgPSB7CiAgICAgICAgICAgICAgICBzbHVnOiB0aGlzLnNsdWcsCiAgICAgICAgICAgIH0gICAKCiAgICAgICAgICAgIFBVVFNsdWcoc2x1ZykudGhlbihyZXN1bHQ9PnsKCiAgICAgICAgICAgICAgICBpZihyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cyA9PSAyMDApewogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgICAgICAgICAgIFRvYXN0KHtzdGF0dXM6IDIwMH0se3N1Y2Nlc3M6IlNsdWcgYWdnaW9ybmF0byBjb24gc3VjY2Vzc28hIn0pOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgVG9hc3Qoe3N0YXR1czogNDAwfSx7ZXJyb3I6IkVycm9yZSBkdXJhbnRlIn0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSk7CgoKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgVG9hc3Qoe3N0YXR1czogNDAwfSx7ZXJyb3I6IlNsdWcgbm9uIHZhbGlkbyEifSk7CiAgICAgICAgfQoKICAgIH0KCgp9Cg=="},{"version":3,"sources":["WebBooking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;;AAGA","file":"WebBooking.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"card col-12\">\n        <div class=\"card-body col-12 p-4\">\n\n            <div class=\"row\">\n                <div class=\"col-sm-12 col-md-6\">\n                    <div class=\"form-group\">\n                        <h4 class=\"mt-0 header-title font-roboto weight-700 size-17\">Prenotazioni via web</h4>\n                    </div>            \n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"form-group\">\n                        <small class=\"form-text text-muted font-poppins weight-400 mb-3 size-14\">Personalizza l'URL delle prenotazioni via web</small>\n                        <div class=\"row col-12 pl-1\">\n                            <p class=\"form-control font-poppins weight-500 size-14 col-sm-12 col-md-3 border-0\">{{ webBookingLink }}</p>\n                            <input type=\"text\" class=\"form-control weight-500 size-14 col-sm-12 col-md-6\" v-model=\"slug\" placeholder=\"slug\">\n                            <button type=\"submit\" class=\"btn btn-gradient-primary font-poppins weight-700 size-14 mb-3\" v-on:click=\"update()\">Aggiorna</button>\n                        </div>\n                    </div>            \n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"form-group\">\n                        <small class=\"form-text text-muted font-poppins weight-400 mb-3 size-14\">Includi la prenotazione via web sul tuo sito</small>\n                        <div class=\"row col-12\">\n                            <textarea class=\"form-control resize-no p-2 weight-500 size-14 col-sm-12 col-md-9\" rows=\"6\" id=\"defaultTitleMessage\" v-model=\"iFrame\"  spellcheck=\"false\"></textarea>\n                        </div>\n                    </div>            \n                </div>\n            </div>\n\n\n\n\n\n          \n        </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n    import { Component, Prop, Vue } from 'vue-property-decorator';\n    import { GETCalendars } from \"../memoFly-api/GETCalendars.js\";\n    import { PUTSlug } from \"../memoFly-api/PUTSlug.js\";\n\n    import { Toast } from \"../services/Toast.js\";\n\n    @Component({\n        components: {\n        },\n    })\n\n\n    export default class WebBooking extends Vue {\n\n        public slug: string = \"\";\n        public iFrame: string = \"\";\n        public webBookingLink: string = \"https://calendar.memofly.it/\";\n\n\n        data() {\n            \n            return {\n                slug: this.slug,\n                iFrame: this.iFrame,\n            }\n            \n        }\n\n        mounted() {\n            this.init();\n        }\n\n        init(){\n\n             GETCalendars()\n                .then((response:any)=>{\n\n                    this.slug = response.data.slug;\n                    this.iFrame = \"<iframe src='https://calendar.memofly.it/\"+ this.slug +\"' style='width: 100%; height: 80vh; background: #fff'></iframe>\";\n\n                });\n\n        }\n\n        update(){\n\n            if(this.slug && this.slug.length>1){ \n\n                const slug = {\n                    slug: this.slug,\n                }   \n\n                PUTSlug(slug).then(result=>{\n\n                    if(result && result.status == 200){\n                        this.init();\n                        Toast({status: 200},{success:\"Slug aggiornato con successo!\"});\n                    }else{\n                        Toast({status: 400},{error:\"Errore durante\"});\n                    }\n\n                });\n\n\n            }else{\n                Toast({status: 400},{error:\"Slug non valido!\"});\n            }\n\n        }\n\n\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n</style>\n"]}]}