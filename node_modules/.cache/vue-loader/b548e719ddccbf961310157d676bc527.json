{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/AccountDetails.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/AccountDetails.vue","mtime":1631220593686},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1630067775262},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1630067785662},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsNCmltcG9ydCB7IEdFVFVzZXIgfSBmcm9tICIuLi8uLi9tZW1vRmx5LWFwaS9HRVRVc2VyLmpzIjsNCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsNCg0KQENvbXBvbmVudCh7DQogIGNvbXBvbmVudHM6IHsNCg0KICB9LA0KfSkNCg0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckRldGFpbHMgZXh0ZW5kcyBWdWUgew0KDQogIHB1YmxpYyBjb21wYW55OiBhbnkgPSB7fTsNCiAgcHVibGljIHRlc3QgOmFueTsNCg0KICBkYXRhKCkgew0KDQogICAgdGhpcy5pbml0KCk7DQoNCiAgICByZXR1cm4gew0KICAgICAgY29tcGFueTogdGhpcy5jb21wYW55LA0KICAgICAgdGVzdDogdGhpcy50ZXN0LA0KICAgIH07DQogIH0NCg0KICBpbml0KCkgew0KICAgIHRoaXMuY29tcGFueSA9IFtdOw0KDQogIEdFVFVzZXIoKQ0KICAgIC50aGVuKChyZXNwb25zZTogYW55KSA9PiB7DQoNCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnByb2Nlc3MocmVzcG9uc2UuZGF0YSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5jb21wYW55ID0gW107DQogICAgICAgIH0NCg0KICAgICAgfSk7DQoNCiAgfQ0KDQogIHByb2Nlc3MoY29tcGFueSl7DQoNCiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShjb21wYW55KSkNCg0KICAgIGxldCByZXN1bHQgPSB7fTsNCg0KICAgIC8vRk9STUFUVElORyANCiAgICBpZihjb21wYW55KXsNCiAgICAgIGNvbXBhbnkuc290dG9zY3JpemlvbmUgPSBjb21wYW55LnNvdHRvc2NyaXppb25lLnJlcGxhY2UoIk1lbW9mbHkiLCIiKTsNCiAgICB9ZWxzZXsNCiAgICAgIGNvbXBhbnkgPSB7fTsNCiAgICB9DQoNCiAgICAvL0NPVU5UIEVORCBJTiBEQVlTDQogICAgbGV0IHN0YXJ0RGF0ZSA9IG1vbWVudChjb21wYW55LmluaXppb1NvdHRvc2NyaXppb25lLCAiREQtTU0tWVlZWSIpOw0KICAgIGxldCBlbmREYXRlID0gbW9tZW50KGNvbXBhbnkuZmluZVNvdHRvc2NyaXppb25lLCAiREQtTU0tWVlZWSIpOw0KICAgIGxldCBlbmRJbkRheXMgPSBwYXJzZUludChtb21lbnQoZW5kRGF0ZS5kaWZmKHN0YXJ0RGF0ZSkpLmZvcm1hdCgiREQiKSk7DQoNCiAgICBsZXQgZGF5U3RyaW5nID0gIiI7DQogICAgbGV0IHNtc1N0cmluZyA9ICIiOw0KICAgIGxldCBjYWxlbmRhclN0cmluZyA9ICIiOw0KDQogICAgaWYgKGVuZEluRGF5czw9MCl7DQogICAgICBkYXlTdHJpbmcgPSAiYWJib25hbWVudG8gc2NhZHV0byI7DQogICAgfQ0KDQogICAgaWYgKGVuZEluRGF5cz09MSl7DQogICAgICBkYXlTdHJpbmcgPSAidWx0aW1vIGdpb3JubyByaW1hbmVudGUiOw0KICAgIH0NCg0KICAgIGlmIChlbmRJbkRheXM+MSl7DQogICAgICBkYXlTdHJpbmcgPSBlbmRJbkRheXMgKyAiIGdpb3JuaSByaW1hbmVudGkiOw0KICAgIH0NCg0KICAgIHNtc1N0cmluZyA9IGNvbXBhbnkuc21zVG90YWxpICsgIiBzbXMgYWwgbWVzZSI7DQoNCiAgICBpZihjb21wYW55Lm51bUNhbGVuZGFyaSA8PTEgKXsNCiAgICAgICAgY2FsZW5kYXJTdHJpbmcgPSBjb21wYW55Lm51bUNhbGVuZGFyaSArICIgY2FsZW5kYXJpbyI7DQogICAgfWVsc2V7DQogICAgICAgIGNhbGVuZGFyU3RyaW5nID0gY29tcGFueS5udW1DYWxlbmRhcmkgKyAiIGNhbGVuZGFyaSI7DQogICAgfQ0KDQogICAgcmVzdWx0ID0geyANCiAgICAgICAgLi4uY29tcGFueSwgIA0KICAgICAgICBnaW9ybmlSaW1hbmVudGk6IGRheVN0cmluZywNCiAgICAgICAgbWVzc2FnZ2lNZXNlOiBzbXNTdHJpbmcsDQogICAgICAgIGNhbGVuZGFyaTogY2FsZW5kYXJTdHJpbmcNCiAgICAgIH07DQoNCg0KICAgIHRoaXMuY29tcGFueSA9IHJlc3VsdDsNCg0KICB9DQogDQp9DQoNCg=="},{"version":3,"sources":["AccountDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA","file":"AccountDetails.vue","sourceRoot":"src/components/cards","sourcesContent":["<template>\r\n  <div class=\"card-body\">\r\n    <div class=\"row\">\r\n        <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item active\">{{ company.sottoscrizione }}</li>\r\n            <li class=\"breadcrumb-item\">{{ company.messaggiMese }} - {{ company.calendari }}</li>\r\n            <li class=\"breadcrumb-item\">{{ company.giorniRimanenti }}</li>\r\n        </ol>\r\n        <span class=\"right-0\">\r\n          <button  type=\"button\" class=\"btn btn-lg btn-outline-primary mr-3 radius-20 weigth-700 size-14\">\r\n            <a class=\"text-white\" target=\"_blank\" href=\"https://www.memofly.it/prodotto/abbonamenti-memofly/?switch-subscription=6916&item=1824&_wcsnonce=40357e40ae&auto-switch=true\" >\r\n              Migliora\r\n            </a>\r\n          </button>\r\n        </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { GETUser } from \"../../memoFly-api/GETUser.js\";\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  components: {\r\n\r\n  },\r\n})\r\n\r\nexport default class UserDetails extends Vue {\r\n\r\n  public company: any = {};\r\n  public test :any;\r\n\r\n  data() {\r\n\r\n    this.init();\r\n\r\n    return {\r\n      company: this.company,\r\n      test: this.test,\r\n    };\r\n  }\r\n\r\n  init() {\r\n    this.company = [];\r\n\r\n  GETUser()\r\n    .then((response: any) => {\r\n\r\n        if (response.status == 200) {\r\n          this.process(response.data);\r\n        } else {\r\n          this.company = [];\r\n        }\r\n\r\n      });\r\n\r\n  }\r\n\r\n  process(company){\r\n\r\n    console.log(JSON.stringify(company))\r\n\r\n    let result = {};\r\n\r\n    //FORMATTING \r\n    if(company){\r\n      company.sottoscrizione = company.sottoscrizione.replace(\"Memofly\",\"\");\r\n    }else{\r\n      company = {};\r\n    }\r\n\r\n    //COUNT END IN DAYS\r\n    let startDate = moment(company.inizioSottoscrizione, \"DD-MM-YYYY\");\r\n    let endDate = moment(company.fineSottoscrizione, \"DD-MM-YYYY\");\r\n    let endInDays = parseInt(moment(endDate.diff(startDate)).format(\"DD\"));\r\n\r\n    let dayString = \"\";\r\n    let smsString = \"\";\r\n    let calendarString = \"\";\r\n\r\n    if (endInDays<=0){\r\n      dayString = \"abbonamento scaduto\";\r\n    }\r\n\r\n    if (endInDays==1){\r\n      dayString = \"ultimo giorno rimanente\";\r\n    }\r\n\r\n    if (endInDays>1){\r\n      dayString = endInDays + \" giorni rimanenti\";\r\n    }\r\n\r\n    smsString = company.smsTotali + \" sms al mese\";\r\n\r\n    if(company.numCalendari <=1 ){\r\n        calendarString = company.numCalendari + \" calendario\";\r\n    }else{\r\n        calendarString = company.numCalendari + \" calendari\";\r\n    }\r\n\r\n    result = { \r\n        ...company,  \r\n        giorniRimanenti: dayString,\r\n        messaggiMese: smsString,\r\n        calendari: calendarString\r\n      };\r\n\r\n\r\n    this.company = result;\r\n\r\n  }\r\n \r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\">\r\n\r\n\r\n</style>\r\n"]}]}