{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/MessageTemplateList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/MessageTemplateList.vue","mtime":1631051957710},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1630067775262},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1630067785662},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IEdFVE1lc3NhZ2dpIH0gZnJvbSAnLi8uLi9tZW1vRmx5LWFwaS9HRVRNZXNzYWdnaSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi9zY2hlbWEvY2xhc3Nlcy5qcycKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICIuLi9zZXJ2aWNlcy9Ub2FzdC5qcyI7CgoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAKICAgIH0sCn0pCgoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZVRlbXBsYXRlTGlzdCBleHRlbmRzIFZ1ZSB7CgogICAgcHVibGljIGRlZmF1bHRNZXNzYWdlOmFueSA9IHt9OwogICAgcHVibGljIHRlbXBsYXRlczphbnkgPSBbXTsKICAgIHB1YmxpYyByb3dUZW1wbGF0ZXM6YW55ID0gW107CiAgICBwdWJsaWMgc2VhcmNoOnN0cmluZyA9ICIiOwogICAgcHVibGljIHNlYXJjaFJlc3VsdHM6IHN0cmluZyA9ICIiOwoKICAgIGluaXQoKXsKCiAgICAgICAgdGhpcy50ZW1wbGF0ZXMgPSBbXTsKCiAgICAgICAgR0VUTWVzc2FnZ2koKQogICAgICAgICAgICAudGhlbigocmVzdWx0OmFueSk9PnsKICAgICAgICAgICAgICAgIFRvYXN0KHJlc3VsdCx7c3VjY2VzczoiVGVtcGxhdGVzIGNhcmljYXRpIGNvcnJldHRhbWVudGUiLGVycm9yOiJFcnJvcmUgZHVyYW50ZSBpbCBjYXJpY2FtZW50byBkZWkgdGVtcGxhdGVzISJ9KTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5zdGF0dXMgPT0gMjAwKXsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMTsKCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBjb2xsZWN0aW9uIGluIHJlc3VsdC5kYXRhKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhQ29sbGVjdGlvbiA9IHJlc3VsdC5kYXRhW2NvbGxlY3Rpb25dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbj09ImRlZmF1bHQiP2NvbGxlY3Rpb249Im1lc3NhZ2dpIGRlZmF1bHQgcGVyIHR1dHRpIjpudWxsOwoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3JkaW9uSWQ6ICJhY2NvcmRpb24tIitpbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbklkOiAiYnV0dG9uLSIraW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZWQ6aW5kZXg9PTE/ZmFsc2U6dHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbGxlY3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhQ29sbGVjdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7CgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZW1wbGF0ZXMgPSB0aGlzLnRlbXBsYXRlczsKCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IFtdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgIH0KCiAgICBkYXRhKCkgewoKICAgICAgICB0aGlzLmluaXQoKTsKCiAgICAgICAgdGhpcy5kZWZhdWx0TWVzc2FnZSA9IHsKICAgICAgICAgICAgdGl0bGU6ICJNZXNzYWdnaW8gZGkgZGVmYXVsdCBwZXIgdHV0dGkiLAogICAgICAgICAgICBwcmV2aWV3OiAiVGkgcmljb3JkaWFtbyBsJ2FwcHVudGFtZW50byBkaTogbWFydGVkw6wgMDEgZ2VubmFpbyAyMDIwIDEwOjMwIGNvbiBIYWlyIFNwYSIsCiAgICAgICAgICAgIHdoZW46ICI0IGdpb3JuaSIsCiAgICAgICAgICAgIHR5cGU6ICJQb3N0IGFwcHVudGFtZW50byIsCiAgICAgICAgICAgIHNldHRpbmc6dHJ1ZSwKICAgICAgICB9OwogICAgICAgIAogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRlbXBsYXRlczogdGhpcy50ZW1wbGF0ZXMsCiAgICAgICAgICAgIHJvd1RlbXBsYXRlczogdGhpcy5yb3dUZW1wbGF0ZXMsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiB0aGlzLmRlZmF1bHRNZXNzYWdlLAogICAgICAgICAgICBzZWFyY2hSZXN1bHRzOiB0aGlzLnNlYXJjaFJlc3VsdHMsICAgCiAgICAgICAgfQogICAgICAgIAogICAgfQoKICAgIHJlc2VhcmNoKCl7CgogICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9ICIiOwogICAgICAgIGxldCBjb3VudCA9IDA7CiAgICAgICAgCiAgICAgICAgaWYodGhpcy5yb3dUZW1wbGF0ZXMgJiYgdGhpcy5zZWFyY2ggIT09ICIiICYmIHRoaXMuc2VhcmNoLmxlbmd0aCA+IDMgJiYgdGhpcy5yb3dUZW1wbGF0ZXMubGVuZ3RoKXsKCiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVzID0gW107CgogICAgICAgICAgICBmb3IobGV0IHRlbXBsYXRlIG9mIHRoaXMucm93VGVtcGxhdGVzKXsKCiAgICAgICAgICAgICAgICBsZXQgc2VudGVuc2UgPSAiIjsKCiAgICAgICAgICAgICAgICBsZXQgbW9ja3VwID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3JkaW9uSWQ6IHRlbXBsYXRlLmFjY29yZGlvbklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uSWQ6IHRlbXBsYXRlLmJ1dHRvbklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VkOiB0ZW1wbGF0ZS5jbG9zZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0ZW1wbGF0ZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW10sCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgbGV0IGRhdGFBcnJheTphbnkgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IobGV0IGRhdGEgb2YgdGVtcGxhdGUuZGF0YSl7CgogICAgICAgICAgICAgICAgICAgIHNlbnRlbnNlID0gdGVtcGxhdGUubmFtZStkYXRhLnRpdG9sbytkYXRhLnRlc3RvOwoKICAgICAgICAgICAgICAgICAgICBzZW50ZW5zZSA9IHNlbnRlbnNlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2ggPSB0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgICAgICBpZihzZW50ZW5zZS5pbmNsdWRlcyh0aGlzLnNlYXJjaCkpewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXkucHVzaChkYXRhKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKGRhdGFBcnJheS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IGRhdGFBcnJheS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgbW9ja3VwLmRhdGEgPSBkYXRhQXJyYXk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZXMucHVzaChtb2NrdXApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYodGhpcy50ZW1wbGF0ZXMubGVuZ3RoKXsKCiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICIiOwoKICAgICAgICAgICAgICAgIGlmKGNvdW50PT0xKXsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlRyb3ZhdG8gdW4gcmlzdWx0YXRvIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoY291bnQ+MSl7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJUcm92YXRpIG4uICIrY291bnQrIiByaXN1bHRhdGkiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IG1lc3NhZ2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gIiI7CiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVzID0gdGhpcy5yb3dUZW1wbGF0ZXM7CiAgICAgICAgfQoKCiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVzOwoKICAgIH0KCiAgICB0b2dsZUNhcmQodGVtcGxhdGUpIHsKICAgICAgICB0aGlzLnRlbXBsYXRlcy5mb3JFYWNoKHRlbXBsYXRlPT57CiAgICAgICAgICAgIGlmKHRlbXBsYXRlLmNsb3NlZD09ZmFsc2UpIHsKICAgICAgICAgICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wbGF0ZS5idXR0b25JZCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZih0ZW1wbGF0ZS5jbG9zZWQ9PWZhbHNlKXsKICAgICAgICAgICAgdGVtcGxhdGUuY2xvc2VkPXRydWU7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRlbXBsYXRlLmNsb3NlZD1mYWxzZTsKICAgICAgICB9CiAgICB9CgoKCn0K"},{"version":3,"sources":["MessageTemplateList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA","file":"MessageTemplateList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"w-100 pb-4\">\n\n        <div class=\"card mb-0 px-3\">\n            <div class=\"card-body w-100 p-0 m-0 py-3\">\n                <div class=\"input-group\">\n                    <input type=\"text\" name=\"example-input1-group2\" v-model=\"search\" v-on:change=\"research()\" class=\"form-control weight-400 size-14 text-dark\" placeholder=\"Ricerca\">\n                    <span class=\"input-group-prepend\">\n                        <button type=\"button\" class=\"btn btn-lg btn-gradient-primary\"><i class=\"fas fa-search\"></i></button>\n                    </span>\n                </div>\n                <div class=\"input-group\">\n                    <h6 class=\"text-primary\">{{ searchResults }}</h6>\n                </div>\n            </div>\n        </div>\n\n        <div v-for=\"template in templates\" v-bind:key=\"template\" class=\"w-100\">\n            <div class=\"card mb-0 px-3\">\n\n                <div class=\"card-body m-0 p-0 border\">\n                    <b-button v-bind:id=\"template.buttonId\" v-b-toggle=\"template.accordionId\" v-on:click=\"togleCard(template)\" class=\"w-100 btn-light m-0 p-0 bg-white border-0 text-left p-3\">\n                        <div class=\"row\">\n                            <div class=\"col-8\">\n                                <h4 class=\"header-title m-0 text-uppercase font-poppins weight-700 size-14 mt-2 \">{{ template.name }}</h4>\n                            </div>\n                            <div class=\"col-4\">\n                                <i v-if=\"template.closed==true\" class=\"size-22 text-primary dripicons-chevron-down float-right weight-700\"></i>\n                                <i v-if=\"template.closed==false\" class=\"size-22 text-primary dripicons-chevron-up float-right weight-700\"></i>\n                                <span class=\"badge badge-primary badge-pill noti-icon-badge mt-3 mr-3 float-right\">{{ template.data.length }}</span>\n                            </div>\n                        </div>\n                    </b-button>\n                    <div class=\"table-responsive browser_users\">\n                        <div class=\"accordion\" role=\"tablist\">\n                            <b-card no-body class=\"mb-1\">\n                                <b-collapse v-bind:id=\"template.accordionId\" visible accordion=\"my-accordion\" role=\"tabpanel\">\n                                    <div v-for=\"message of template.data\" v-bind:key=\"message\" class=\"w-100\">\n                                        <table class=\"table mb-0\">\n                                            <thead class=\"thead-memofly row w-100 p-0 m-0\">\n                                                <tr class=\"font-poppins weight-500 size-14 text-left row w-100 m-0 p-0\">\n                                                    <th class=\"col-4 border-top-0 text-white\">Titolo</th>\n                                                    <th class=\"col-4 border-top-0 text-white\">Esempio anteprima messaggio</th>\n                                                    <th class=\"col-2 border-top-0 text-white\">Quando</th>\n                                                    <th class=\"col-2 border-top-0 text-white\">Tipo</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody class=\"row w-100 p-0 m-0\">\n                                            <tr class=\"font-poppins weight-500 size-14 text-left row w-100 m-0 p-0\">   \n                                                <td class=\" col-4 form-group p-0 vertical-align-top\">\n                                                    <p class=\"p-2 weight-400 size-14 text-dark\">{{ message.titolo }}</p>\n                                                </td>\n                                                <td class=\"col-4 form-group p-0 vertical-align-top\">\n                                                    <p class=\"p-2 weight-400 size-14 text-dark\">{{ message.testo }}</p>\n                                                </td>\n                                                <td class=\"col-2 form-group p-0 vertical-align-top\">\n                                                    <p class=\"p-2 weight-400 size-14 text-dark\">{{ message.quando }}</p>\n                                                </td>\n                                                <td class=\"col-2 form-group p-0 vertical-align-top\">\n                                                    <p class=\"p-2 weight-400 size-14 text-dark\">{{ message.tipo }}</p>\n                                                </td>\n                                            </tr>\n                                            <tr class=\"col-3 offset-9 w-100 font-poppins weight-400 size-14\">\n                                                <td class=\"col-1 form-group p-0 vertical-align-top d-flex col-12\">\n                                                    <div class=\"col-3 p-0\">\n                                                        <div class=\"custom-control custom-switch switch-primary m-2\">\n                                                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"dafaultSettingMessage\"  v-model=\"defaultMessage.setting\">\n                                                            <label class=\"custom-control-label\" for=\"dafaultSettingMessage\"></label>\n                                                        </div> \n                                                    </div>\n                                                    <div class=\"col-3 p-0\">\n                                                         <router-link :to=\"{ name: 'Message', params: { id: message.id } }\">\n                                                             <button type=\"button\" class=\"btn\">\n                                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather text-primary feather-edit\"><path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path><path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path></svg>\n                                                            </button>\n                                                        </router-link>\n                                                    </div>\n                                                    <div class=\"col-3 p-0\">\n                                                        <button type=\"button\" class=\"btn\">\n                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather text-primary feather-copy\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>\n                                                        </button>\n                                                    </div>\n                                                    <div class=\"col-3 p-0\">\n                                                        <button type=\"button\" class=\"btn\">       \n                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather text-danger feather-trash-2\"><polyline points=\"3 6 5 6 21 6\"></polyline><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line></svg>\n                                                        </button>\n                                                    </div>\n                                                </td>  \n                                            </tr>\n                                            </tbody>\n                                        </table> \n                                    </div>\n\n\n\n                                    \n                                </b-collapse>\n                            </b-card>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n         <div class=\"card mb-0 px-4\"></div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n\n    import { Component, Prop, Vue } from 'vue-property-decorator';\n    import { GETMessaggi } from './../memoFly-api/GETMessaggi';\n    import { Message } from '../schema/classes.js'\n    import { Toast } from \"../services/Toast.js\";\n\n\n    @Component({\n        components: {\n           \n        },\n    })\n\n\n    export default class MessageTemplateList extends Vue {\n\n        public defaultMessage:any = {};\n        public templates:any = [];\n        public rowTemplates:any = [];\n        public search:string = \"\";\n        public searchResults: string = \"\";\n\n        init(){\n\n            this.templates = [];\n\n            GETMessaggi()\n                .then((result:any)=>{\n                    Toast(result,{success:\"Templates caricati correttamente\",error:\"Errore durante il caricamento dei templates!\"});\n                    if(result.status == 200){\n\n                        let index = 1;\n\n                        for(let collection in result.data){\n\n                            let dataCollection = result.data[collection];\n                                collection==\"default\"?collection=\"messaggi default per tutti\":null;\n\n                            let template = {\n                                accordionId: \"accordion-\"+index,\n                                buttonId: \"button-\"+index,\n                                closed:index==1?false:true,\n                                name: collection,\n                                data: dataCollection,\n                            };\n\n                            index++;\n                          \n                            this.templates.push(template);\n\n                        }\n\n                        this.rowTemplates = this.templates;\n\n                    }else{\n                        this.templates = [];\n                    }\n                });\n        }\n\n        data() {\n\n            this.init();\n\n            this.defaultMessage = {\n                title: \"Messaggio di default per tutti\",\n                preview: \"Ti ricordiamo l'appuntamento di: martedì 01 gennaio 2020 10:30 con Hair Spa\",\n                when: \"4 giorni\",\n                type: \"Post appuntamento\",\n                setting:true,\n            };\n            \n            return {\n                templates: this.templates,\n                rowTemplates: this.rowTemplates,\n                defaultMessage: this.defaultMessage,\n                searchResults: this.searchResults,   \n            }\n            \n        }\n\n        research(){\n\n            this.searchResults = \"\";\n            let count = 0;\n            \n            if(this.rowTemplates && this.search !== \"\" && this.search.length > 3 && this.rowTemplates.length){\n\n                this.templates = [];\n\n                for(let template of this.rowTemplates){\n\n                    let sentense = \"\";\n\n                    let mockup = {\n                                accordionId: template.accordionId,\n                                buttonId: template.buttonId,\n                                closed: template.closed,\n                                name: template.name,\n                                data: [],\n                            };\n\n                    let dataArray:any = [];\n\n                    for(let data of template.data){\n\n                        sentense = template.name+data.titolo+data.testo;\n\n                        sentense = sentense.toLowerCase();\n                        this.search = this.search.toLowerCase();\n\n                        if(sentense.includes(this.search)){\n                            dataArray.push(data);\n                        }\n\n                    }\n\n                    if(dataArray.length){\n                        count += dataArray.length;\n                        mockup.data = dataArray;\n                        this.templates.push(mockup);\n                    }\n\n                }\n\n                if(this.templates.length){\n\n                    let message = \"\";\n\n                    if(count==1){\n                        message = \"Trovato un risultato\";\n                    }\n                    \n                    if(count>1){\n                        message = \"Trovati n. \"+count+\" risultati\";\n                    }\n\n                    this.searchResults = message;\n                }\n\n            }else{\n                this.search = \"\";\n                this.templates = this.rowTemplates;\n            }\n\n\n            return this.templates;\n\n        }\n\n        togleCard(template) {\n            this.templates.forEach(template=>{\n                if(template.closed==false) {\n                    let button = document.getElementById(template.buttonId) as HTMLButtonElement;\n                        button.click();\n                }\n            });\n            if(template.closed==false){\n                template.closed=true;\n            }else{\n                template.closed=false;\n            }\n        }\n\n\n\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n.thead-memofly{\n    background-color: #7387A1;\n}\n\n.btn-light{\n    box-shadow: none !important;\n}\n\n</style>\n"]}]}