{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/MessageTemplateWizard.vue?vue&type=style&index=0&id=47baf46c&scoped=true&lang=scss&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/MessageTemplateWizard.vue","mtime":1631220555101},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/css-loader/dist/cjs.js","mtime":1630067778183},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1630067786534},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/postcss-loader/src/index.js","mtime":1630067782236},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/sass-loader/dist/cjs.js","mtime":1630067784914},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnByZW5vdGFiaWxlVmlhV2ViQ2hlY2tib3h7CiAgYXBwZWFyYW5jZTogbm9uZTsKICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgaGVpZ2h0OiAxNXB4OwogIHdpZHRoOiAzMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNkNmQ2ZDY7CiAgYm9yZGVyLXJhZGl1czogMTFweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7CiAgcGFkZGluZy1sZWZ0OiAzcHg7CiAgY29sb3I6ICM2NjY7CiAgYm9yZGVyOiAwcHggc29saWQgIzdkODM5YTsKfQoucHJlbm90YWJpbGVWaWFXZWJDaGVja2JveDphZnRlcnsKICBmb250LWZhbWlseTogIkZvbnQgQXdlc29tZSA1IEZyZWUiOwogIGZvbnQtd2VpZ2h0OiA5MDA7CiAgY29udGVudDogIlxmMTExIjsKICBmb250LXNpemU6IDEwcHg7CiAgY29sb3I6ICNmZmY7Cn0KLnByZW5vdGFiaWxlVmlhV2ViQ2hlY2tib3g6aG92ZXJ7CiAgYmFja2dyb3VuZC1jb2xvcjogIzY2NjsKICBib3JkZXI6IDBweCBzb2xpZCAjN2Q4MzlhOwp9Ci5wcmVub3RhYmlsZVZpYVdlYkNoZWNrYm94OmNoZWNrZWR7CiAgYmFja2dyb3VuZC1jb2xvcjogIzQzOUFGNDsKICBib3JkZXI6IDBweCBzb2xpZCAjN2Q4MzlhOwp9Ci5wcmVub3RhYmlsZVZpYVdlYkNoZWNrYm94OmNoZWNrZWQ6YWZ0ZXJ7CiAgZGlzcGxheTogZmxleDsKICBwYWRkaW5nLWxlZnQ6IDEzcHg7Cn0gICAKCgo="},{"version":3,"sources":["MessageTemplateWizard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MessageTemplateWizard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"card col-12\">\n      <div class=\"card-body row col-12\">\n        <div class=\"col-sm-12 col-md-6\">\n          <div class=\"form-group\">\n            <h4 class=\"mt-0 titolo-label size-14\">Tipo promemoria</h4>\n            <select class=\"form-control size-14\" id=\"breakService\" v-model=\"message.tipo\">\n                <option class=\"font-poppins weight-500 size-14\" value=\"pre\">Pre appuntamento</option>\n                <option class=\"font-poppins weight-500 size-14\" value=\"post\">Post appuntamento</option>\n             </select>\n            <small class=\"form-text text-muted size-12\">Inserisci che tipologia di messaggio vuoi creare</small>\n          </div>\n          <div class=\"form-group\">\n            <h4 class=\"mt-0 titolo-label size-14\">Servizio</h4>\n            <select class=\"form-control size-14\" id=\"breakService\" v-model=\"message.servizio\">\n                <option class=\"font-poppins weight-500 size-14\" v-for=\"service in services\" v-bind:key=\"service\" v:bind:value=\"service.id\">{{ service.nome }} </option>\n             </select>            \n             <small class=\"form-text text-muted size-12\">Seleziona la tipologia del servizio per cui stai creando il messaggio</small>\n          </div>\n          <div class=\"form-group\">\n            <h4 class=\"mt-0 titolo-label size-14\">Quando inviare</h4>\n            <select class=\"form-control size-14\" id=\"breakService\" v-model=\"message.quando\">\n              <option class=\"size-14\" v-for=\" n in 24\" v-bind:key=\"n\" v-bind:value=\"'-'+n+'h'\">{{ \"n.\" + n + \" ore prima dell'appuntamento\" }}</option>\n              <option class=\"size-14\" v-for=\" n in 24\" v-bind:key=\"n\" v-bind:value=\"'+'+n+'h'\">{{ \"n.\" + n + \" ore dopo dell'appuntamento\" }}</option>\n            </select>            \n             <small class=\"form-text text-muted size-12\">Seleziona quando dovrà essere inviato il messaggio</small>\n          </div>\n          <div class=\"form-group\">\n            <div class=\"row col-12\">\n                <input class=\"prenotabileViaWebCheckbox mt-1\" type=\"checkbox\" id=\"webBookingService\" v-model=\"message.fidelizzazione\">\n                <label class=\" titolo-label size-14\" for=\"webBookingService\">Fidelizzazione intelligente</label>\n            </div>\n            <small class=\"form-text text-muted size-12\">Testo fidelizzazione intelligente</small>\n          </div>\n        </div>\n        <div class=\"col-sm-12 col-md-6\">\n            <div class=\"form-group\">\n                <h4 class=\"mt-0 mb-0 titolo-label size-14\">Esempio anteprima messaggi</h4>\n                <small class=\"form-text text-muted size-12 mt-0\">Verrà creata un’anteprima del messaggio che riceverà il cliente</small>\n                <div class=\"row col-12\">\n                    <textarea class=\"form-control resize-no p-2 weight-500 size-14 col-12\" rows=\"3\" id=\"defaultTitleMessage\" v-model=\"messagePreview\"  spellcheck=\"false\"></textarea>\n                </div>\n            </div>    \n             <div class=\"form-group\">\n                <h4 class=\"mt-0 titolo-label size-14\">Descrizione</h4>\n                <div class=\"row col-12\">\n                    <textarea class=\"form-control resize-no p-2 weight-500 size-14 col-12\" rows=\"3\" id=\"defaultTitleMessage\" v-model=\"message.testo\"  spellcheck=\"false\"></textarea>\n                </div>\n                <small class=\"form-text text-muted size-12 mt-0 mb-0\">Crea il testo del messaggio utilizzando i campi che visualizzi sotto il box</small>\n            </div>       \n        </div>\n        <div class=\"col-12\">\n             <div class=\"float-right m-4\">\n                 <button type=\"submit\" v-bind:disabled=\"disabled\" v-on:click=\"sendMessage()\"\n                        class=\"btn btn-gradient-success mr-2 size-16\">Invia SMS di prova\n                </button>\n                <button type=\"submit\" v-bind:disabled=\"disabled\" v-on:click=\"saveMessage()\"\n                        class=\"btn btn-gradient-primary mr-2 size-16\">Salva\n                </button>\n                <button type=\"button\" v-bind:disabled=\"disabled\" v-on:click=\"cancelMessage()\"\n                        class=\"btn btn-gradient-danger size-16\">Annulla\n                </button>\n            </div>\n        </div>\n        \n\n\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {Component, Prop, Vue} from 'vue-property-decorator';\nimport { Message, Service } from './../schema/classes.js'\nimport {POSTService} from \"../memoFly-api/POSTService.js\";\nimport {PUTService} from \"../memoFly-api/PUTService.js\";\nimport {GETServices} from \"../memoFly-api/GETServices.js\";\nimport {GETMessage} from \"../memoFly-api/GETMessage.js\";\nimport {Toast} from \"../services/Toast.js\";\n\n@Component({\n  components: {\n  },\n})\n\n\nexport default class MessageTemplateWizard extends Vue {\n\n  public message: any = new Message;\n  public dataServices: any;\n  public services: any;\n  public messagePreview: any;\n  public service: any = new Service();\n  public disabled: any = true;\n\n  data() {\n\n    this.message = new Message;\n\n    return {\n      message: this.message,\n      services: this.services,\n      service: this.service,\n      messagePreview: this.messagePreview,\n      dataServices: this.dataServices,\n      disabled: this.disabled\n    }\n\n  }\n\n  mounted() {\n\n    this.disabled = true;\n\n    GETServices()\n        .then((resp: any) => {\n        return this.services = resp.data;\n    })\n\n       if (this.$route.params.id) {\n\n            let messageID = this.$route.params.id;\n\n            GETMessage(messageID)\n                .then((response: any) => {\n                  if (response.status == 200) {\n                    return this.message = response.data;\n                  } else {\n                    return this.message = new Message();\n                  }\n            });\n\n\n        }\n    \n\n\n  }\n\n  save(service: any) {\n    this.process(service)\n        .then((serviceData: any) => {\n\n          if (this.$route.params.id) {\n\n            POSTService(serviceData)\n                .then((data: any) => {\n                  Toast(data, {success: \"Servizio salvato con successo!\", error: \"Errore durante il salvataggio\"});\n                })\n                .then(() => {\n                  location.href = '/services';\n                });\n\n          } else {\n\n            PUTService(serviceData)\n                .then((data: any) => {\n                  Toast(data, {success: \"Servizio salvato con successo!\", error: \"Errore durante il salvataggio\"});\n                })\n                .then(() => {\n                  location.href = '/services';\n                });\n\n          }\n        })\n        .catch(err => {\n          Toast(err);\n        })\n\n\n  }\n\n  process(service: any) {\n\n    return new Promise((resolve) => {\n\n      service = this.arrangeForDB(service);\n\n      let collaboratori: any;\n      collaboratori = [];\n\n      service.collaboratori = collaboratori.join(\"|\");\n\n      resolve(service);\n\n    })\n\n\n  }\n\n  arrangeForDB(service: any) {\n    if (service.prenotabileViaWeb == true) {\n      service.prenotabileViaWeb = \"on\";\n    }\n    if (service.prenotabileViaWeb == false) {\n      service.prenotabileViaWeb = \"off\";\n    }\n\n    return service;\n\n  }\n\n  saveMessage() {\n\n    let schema = {\n      nome: true,\n      durata: true,\n      colore: true,\n      descrizione: true,\n      prenotabileViaWeb: true,\n      pausa: true,\n      prezzo: true\n    }\n\n    // this.service.tags = this.service.tags.split(' ');\n\n    // let response = Check(schema, this.service);\n\n    // if (response) {\n\n    //   this.save(this.service);\n\n    // } else {\n    //   Toast({error: \"Dati incompleti\"});\n    // }\n\n\n  }\n\n  sendMessage() {\n\n  }\n\n  cancelMessage() {\n\n  }\n\n  arrangeForFronEnd(service: any) {\n\n    if (service.prenotabileViaWeb == \"on\") {\n      service.prenotabileViaWeb = true;\n    } else {\n      service.prenotabileViaWeb = false;\n    }\n\n    return service;\n\n  }\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n.prenotabileViaWebCheckbox{\n  appearance: none;\n  -webkit-appearance: none;\n  height: 15px;\n  width: 30px;\n  background-color: #d6d6d6;\n  border-radius: 11px;\n  cursor: pointer;\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  padding-left: 3px;\n  color: #666;\n  border: 0px solid #7d839a;\n}\n.prenotabileViaWebCheckbox:after{\n  font-family: \"Font Awesome 5 Free\";\n  font-weight: 900;\n  content: \"\\f111\";\n  font-size: 10px;\n  color: #fff;\n}\n.prenotabileViaWebCheckbox:hover{\n  background-color: #666;\n  border: 0px solid #7d839a;\n}\n.prenotabileViaWebCheckbox:checked{\n  background-color: #439AF4;\n  border: 0px solid #7d839a;\n}\n.prenotabileViaWebCheckbox:checked:after{\n  display: flex;\n  padding-left: 13px;\n}   \n\n\n</style>\n"]}]}