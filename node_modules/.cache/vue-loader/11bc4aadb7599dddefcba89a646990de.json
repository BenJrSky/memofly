{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/ResumeLostClients.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/cards/ResumeLostClients.vue","mtime":1630356691235},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1630067775262},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1630067785662},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBWdWVBcGV4Q2hhcnRzIGZyb20gInZ1ZS1hcGV4Y2hhcnRzIjsKaW1wb3J0IHsgR0VUQ2xpZW50c0NoYXJ0IH0gZnJvbSAnLi4vLi4vbWVtb0ZseS1hcGkvZGFzaGJvYXJkL0dFVENsaWVudHNDaGFydC5qcyc7CmltcG9ydCB7IEdFVExvc3RDbGllbnRzIH0gZnJvbSAnLi8uLi8uLi9tZW1vRmx5LWFwaS9kYXNoYm9hcmQvR0VUTG9zdENsaWVudHMuanMnOwoKCkBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZUFwZXhDaGFydHMsCiAgfSwKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdW1lTG9zdENsaWVudHMgZXh0ZW5kcyBWdWUgewoKICAgIHB1YmxpYyBsYXN0TW9udGggOm51bWJlciA9IDA7CiAgICBwdWJsaWMgc2VyaWVzIDphbnkgPSBbXTsKICAgIHB1YmxpYyBxdWVzdG9NZXNlOiBhbnk7CiAgICBwdWJsaWMgZGlmZmVyZW56YU1lc2kgOm51bWJlciA9IDA7CgogIGRhdGEoKSB7CgogICAgICAgIHRoaXMuaW5pdCgpOwoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsCiAgICAgICAgICAgICAgICBsYXN0TW9udGg6IHRoaXMubGFzdE1vbnRoLAogICAgICAgICAgICAgICAgY2hhcnRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FyZWEnLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGZpbGw6ewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJncmFkaWVudCIsCiAgICAgICAgICAgICAgICAgICAgY29sb3JzOlsnI0VENEY1QSddLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHN0cm9rZTogewogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNSwKICAgICAgICAgICAgICAgICAgICAgICAgY3VydmU6ICdzbW9vdGgnLAogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnM6WycjRUQ0RjVBJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KCiAgICB9CgogICAgaW5pdCgpewoKICAgICAgICB0aGlzLmxhc3RNb250aCA9IDA7CiAgICAgICAgdGhpcy5kaWZmZXJlbnphTWVzaSA9IDA7CgoKICAgICAgR0VUTG9zdENsaWVudHMoKQogICAgICAgICAgICAudGhlbigoY2xpZW50czphbnkpPT57CgogICAgICAgICAgICAgICAgaWYoY2xpZW50cy5udW92aS5kYXRhKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmllcyA9IFt7bmFtZTonJyxkYXRhOiBjbGllbnRzLnBlcnNpLmRhdGF9XQogICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3RvTWVzZSA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlmZmVyZW56YU1lc2kgPSBjbGllbnRzLnBlcnNpLmRhdGFbdGhpcy5xdWVzdG9NZXNlXSAtIGNsaWVudHMucGVyc2kuZGF0YVt0aGlzLnF1ZXN0b01lc2UgLTFdOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJpZXMgPSBbXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICB9KTsKCiAgICAgICAgR0VUQ2xpZW50c0NoYXJ0KCkKICAgICAgICAgICAgLnRoZW4oKGNsaWVudHM6YW55KT0+ewoKICAgICAgICAgICAgICAgIGlmKGNsaWVudHMubnVvdmlDbGllbnRpTWVzZSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TW9udGggPSBjbGllbnRzLmNsaWVudGlQZXJzaU1lc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9KTsKICAgIH0KICAKCn0KCg=="},{"version":3,"sources":["ResumeLostClients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA","file":"ResumeLostClients.vue","sourceRoot":"src/components/cards","sourcesContent":["<template>\n    <div class=\"col-sm-12 col-md-4 d-flex h-75\">\n        <div class=\"flexCol card report-card w-100\">\n            <div class=\"card-body\">\n                <div class=\"row p-2\">\n                    <div class=\"col-6\">\n                        <div class=\"row\">\n                            <div class=\"pl-3 pt-4\">\n                                <h4 class=\"mt-0 weight-700 size-16 font-poppins titolo-label\">Clienti persi</h4>\n                              <div class=\"row\" v-if=\"differenzaMesi > 0\">\n                                <p class=\"pl-3 text-muted weight-400 size-16\">Ultimo mese: {{ differenzaMesi }}</p>\n                                <i class=\"pl-2 pt-1 fas fa-caret-down text-danger font-16\"></i>\n                              </div>\n                              <div class=\"row\" v-else>\n                                <p class=\"pl-3 text-muted weight-400 size-16\">Ultimo mese: {{ Math.abs(differenzaMesi) }}</p>\n                                <i class=\"pl-2 pt-1 fas fa-caret-up text-success font-16\"></i>\n                              </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-6 overflow-hidden\">\n                        <VueApexCharts class=\"hideLabels\" height=\"150\" v-bind:options=\"chartOptions\" v-bind:series=\"series\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport VueApexCharts from \"vue-apexcharts\";\nimport { GETClientsChart } from '../../memoFly-api/dashboard/GETClientsChart.js';\nimport { GETLostClients } from './../../memoFly-api/dashboard/GETLostClients.js';\n\n\n@Component({\n  components: {\n    VueApexCharts,\n  },\n})\nexport default class ResumeLostClients extends Vue {\n\n    public lastMonth :number = 0;\n    public series :any = [];\n    public questoMese: any;\n    public differenzaMesi :number = 0;\n\n  data() {\n\n        this.init();\n\n            return {\n                series: this.series,\n                lastMonth: this.lastMonth,\n                chartOptions: {\n                    chart: {\n                        type: 'area',\n                    },\n                  fill:{\n                    type: \"gradient\",\n                    colors:['#ED4F5A'],\n                  },\n                    stroke: {\n                        width: 5,\n                        curve: 'smooth',\n                        colors:['#ED4F5A']\n                    },\n                }\n                \n            }\n\n    }\n\n    init(){\n\n        this.lastMonth = 0;\n        this.differenzaMesi = 0;\n\n\n      GETLostClients()\n            .then((clients:any)=>{\n\n                if(clients.nuovi.data){\n                    this.series = [{name:'',data: clients.persi.data}]\n                    this.questoMese = new Date().getMonth()\n                    this.differenzaMesi = clients.persi.data[this.questoMese] - clients.persi.data[this.questoMese -1];\n                }else{\n                    this.series = [];\n                }\n\n             });\n\n        GETClientsChart()\n            .then((clients:any)=>{\n\n                if(clients.nuoviClientiMese){\n                    this.lastMonth = clients.clientiPersiMese;\n                }\n\n            });\n    }\n  \n\n}\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n    .hideLabels .apexcharts-yaxis,\n    .hideLabels .apexcharts-xaxis,\n    .hideLabels .apexcharts-datalabel,\n    .hideLabels .apexcharts-gridline,\n    .hideLabels .apexcharts-toolbar\n     {\n        display: none !important;\n    }\n    \n\n</style>\n"]}]}