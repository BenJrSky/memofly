{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/common/Carousel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/common/Carousel.vue","mtime":1632248241618},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1632248232528},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1632248240050},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1632248233346},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1632248240770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgQmFkZ2UgZnJvbSAnLi4vY29tbW9uL0JhZGdlLnZ1ZSc7CmltcG9ydCB7IEdFVENvdW50QXBwb2ludG1lbnRzIH0gZnJvbSAiLi4vLi4vbWVtb0ZseS1hcGkvZGFzaGJvYXJkL0dFVENvdW50QXBwb2ludG1uZXRzIjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgQmFkZ2UsCiAgfSwKfSkKCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgVnVlIHsKCiAgQFByb3AoKSBwdWJsaWMgaXRlbXMhOiBhbnkgW107CgogIHB1YmxpYyBjdXJyZW50OmFueSA9IDA7CiAgcHVibGljIHRvdGFsVG9kYXk6YW55ID0gMDsKICBwdWJsaWMgdG90YWxMYXN0V2VlazphbnkgPSAwOwoKICBkYXRhKCl7CgogICAgdGhpcy5pdGVtcyA9IFtdOwoKICAgIHRoaXMuaW5pdCgpOyAgCgogICAgcmV0dXJuIHsKICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50LAogICAgICBpdGVtczogdGhpcy5pdGVtcywKICAgICAgdG90YWxUb2RheTogdGhpcy50b3RhbFRvZGF5LAogICAgICB0b3RhbExhc3RXZWVrOiB0aGlzLnRvdGFsTGFzdFdlZWsKICAgIH0KCiAgfQoKICBpbml0KCl7CgogICAgIEdFVENvdW50QXBwb2ludG1lbnRzKCkKICAgICAgICAudGhlbigoZGF0YUFwcG9pbnRtZW50czphbnkpPT57CiAgICAgICAgICAgIGlmKGRhdGFBcHBvaW50bWVudHMuZGF0YSl7CgogICAgICAgICAgICAgICAgbGV0IHRvZGF5TGlzdCA9IGRhdGFBcHBvaW50bWVudHMuZGF0YS5hcHB1bnRhbWVudGk7CiAgICAgICAgICAgICAgICBsZXQgY291bnRpbmcgPSBkYXRhQXBwb2ludG1lbnRzLmRhdGEuY29udGVnZ2lvQXBwdW50YW1lbnRpOwoKICAgICAgICAgICAgICAgIHRoaXMudG90YWxUb2RheSA9IGNvdW50aW5nLm9nZ2k7CiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsTGFzdFdlZWsgPSBjb3VudGluZy5zZXR0aW1hbmFTY29yc2E7CgogICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRvZGF5TGlzdC5tYXAoKGVsbTphbnksIGluZGV4Om51bWJlcikgPT57CgogICAgICAgICAgICAgICAgICAgIGVsbS5zdGFydD9lbG0uc3RhcnQgPSBtb21lbnQoZWxtLnN0YXJ0KS5mb3JtYXQoIkhIOk1NIik6ZWxtLnN0YXJ0PSIiOwogICAgICAgICAgICAgICAgICAgIGVsbS5lbmQ/ZWxtLmVuZCA9IG1vbWVudChlbG0uZW5kKS5mb3JtYXQoIkhIOk1NIik6ZWxtLmVuZD0iIjsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGNhcm91c2VsQ2xhc3MgPSAiY2Fyb3VzZWxfX2l0ZW0gaGlkZUl0ZW0iOwoKICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9PTA/Y2Fyb3VzZWxDbGFzcz0iY2Fyb3VzZWxfX2l0ZW0gc2hvd0l0ZW0iOm51bGwKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbG0uaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCsxLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOmVsbS5ub21lLAogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlOiBlbG0uc2Vydml6aW8sCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogZWxtLmNsaWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGVsbS5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbG0uZW5kLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogY2Fyb3VzZWxDbGFzcywKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgfQoKCiAgcHJldkl0ZW0oaXRlbTphbnkpewoKICAgIGlmKHRoaXMuaXRlbXMubGVuZ3RoKXsKCiAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTsKICAgICAgICBsZXQgcHJldkluZGV4ID0gMDsKCiAgICAgICAgaWYoY3VycmVudEluZGV4ID09IDApewogICAgICAgICAgcHJldkluZGV4ID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOwogICAgICAgIH1lbHNlewogICAgICAgICAgcHJldkluZGV4ID0gIChjdXJyZW50SW5kZXggLSAxKSAlIHRoaXMuaXRlbXMubGVuZ3RoOwogICAgICAgIH0KCgogICAgICAgIHRoaXMuY3VycmVudCA9IHByZXZJbmRleDsKCiAgICAgICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pdGVtcy5sZW5ndGg7IGluZGV4KyspewoKICAgICAgICAgICAgaWYoaW5kZXg9PXByZXZJbmRleCl7CiAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uY2xhc3MgPSAic2hvd0l0ZW0iOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5jbGFzcyA9ICJoaWRlSXRlbSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgIH0KCiAgfQoKICBuZXh0SXRlbShpdGVtOmFueSl7CgogICAgaWYodGhpcy5pdGVtcy5sZW5ndGgpewoKICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pOwogICAgICAgIGxldCBuZXh0SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSB0aGlzLml0ZW1zLmxlbmd0aDsKCiAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV4dEluZGV4OwoKCiAgICAgICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pdGVtcy5sZW5ndGg7IGluZGV4KyspewoKICAgICAgICAgICAgaWYoaW5kZXg9PW5leHRJbmRleCl7CiAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uY2xhc3MgPSAic2hvd0l0ZW0iOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5jbGFzcyA9ICJoaWRlSXRlbSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgIH0KCiAgfQoKCgoKfQo="},{"version":3,"sources":["Carousel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;AAKA","file":"Carousel.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div class=\"w-100\">\n    <div v-if=\"items.length==0\" class=\"col-11 mx-auto\">\n      <Badge class=\"mx-auto\" message=\"Non hai appuntamenti oggi\"></Badge>\n    </div>\n    <div class=\"w-100 carousel-wrapper m-3\">\n      <div v-if=\"items.length>0\">\n        <div class=\"w-100 carousel\">\n\n          <div  v-bind:class=\"item.class\" v-for=\"item in items\" v-bind:key=\"item\" >\n\n              <div class=\"w-100\">\n                <div class=\"row\">\n                  <div class=\"col-5 offset-7\">\n                    <div class=\"row col-12\">\n                      <div class=\"mx-auto \">\n                          <a class=\"carousel-control-prev mt-1  nextPrevDimension\" role=\"button\" v-on:click=\"prevItem(item)\">\n                            <span class=\"carousel-control-prev-icon float-right bold mr-n4\" ></span>\n                          </a>\n                          <a class=\"carousel-control-next mt-1 nextPrevDimension\" role=\"button\" v-on:click=\"nextItem(item)\">\n                            <span class=\"carousel-control-next-icon mr-n3\" ></span>\n                          </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-8\">\n                    <h4 class=\"text-primary font-roboto weight-700 size-18\">{{ item.name }}</h4>\n                  </div>\n                </div>\n                <div class=\"w-100\">\n                  <hr>\n                  <div class=\"mt-5 \">\n                    <h5 class=\"font-roboto weight-700 size-18 mb-5\">{{ item.service }}</h5>\n                    <p class=\"font-roboto weight-400 size-18 mb-5\">Cliente {{ item.client }}</p>\n                    <p class=\" text-muted font-roboto weight-400 size-18 mb-5\">Dalle {{ item.start }} alle {{ item.end }}</p>\n                  </div>\n                </div>\n                \n              </div>\n\n          </div>\n\n          <div class=\"carousel__button--next\" v-on:click=\"moveNext()\"></div>\n          <div class=\"carousel__button--prev \" v-on:click=\"movePrev()\"></div>\n\n        </div>\n        <div class=\"w-100 bg-white sticky-bottom p-4\">\n\n          <div class=\"row bg-light p-2 m-2\">\n            <div class=\"d-flex col-3 offset-1\">\n              <h1 class=\"align-self-center text-align-center font-roboto weight-700 size-36\">{{ totalToday}}</h1>\n            </div>\n            <div class=\"col-8\">\n                <h4 class=\"font-roboto weight-700 size-18 mb-0\">APPUNTAMENTI</h4>\n                <p class=\"text-muted font-roboto weight-400 size-18\">Settimana scorsa: {{ totalLastWeek }}</p>\n            </div>\n          </div>\n          \n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n\n    import { Component, Prop, Vue } from 'vue-property-decorator';\n    import Badge from '../common/Badge.vue';\n    import { GETCountAppointments } from \"../../memoFly-api/dashboard/GETCountAppointmnets\";\n    import moment from 'moment';\n\n    @Component({\n      components: {\n        Badge,\n      },\n    })\n\n    export default class Carousel extends Vue {\n\n      @Prop() public items!: any [];\n\n      public current:any = 0;\n      public totalToday:any = 0;\n      public totalLastWeek:any = 0;\n\n      data(){\n\n        this.items = [];\n\n        this.init();  \n\n        return {\n          current: this.current,\n          items: this.items,\n          totalToday: this.totalToday,\n          totalLastWeek: this.totalLastWeek\n        }\n\n      }\n\n      init(){\n\n         GETCountAppointments()\n            .then((dataAppointments:any)=>{\n                if(dataAppointments.data){\n\n                    let todayList = dataAppointments.data.appuntamenti;\n                    let counting = dataAppointments.data.conteggioAppuntamenti;\n\n                    this.totalToday = counting.oggi;\n                    this.totalLastWeek = counting.settimanaScorsa;\n\n                    this.items = todayList.map((elm:any, index:number) =>{\n\n                        elm.start?elm.start = moment(elm.start).format(\"HH:MM\"):elm.start=\"\";\n                        elm.end?elm.end = moment(elm.end).format(\"HH:MM\"):elm.end=\"\";\n\n                        let carouselClass = \"carousel__item hideItem\";\n\n                            index==0?carouselClass=\"carousel__item showItem\":null\n\n                        return { \n                            id: elm.id,\n                            index: index+1,\n                            name:elm.nome,\n                            service: elm.servizio,\n                            client: elm.client,\n                            start: elm.start,\n                            end: elm.end,\n                            class: carouselClass,\n                        }\n\n                    });               \n\n\n                }\n            })\n      }\n\n\n      prevItem(item:any){\n\n        if(this.items.length){\n\n            let currentIndex = this.items.indexOf(item);\n            let prevIndex = 0;\n\n            if(currentIndex == 0){\n              prevIndex = this.items.length - 1;\n            }else{\n              prevIndex =  (currentIndex - 1) % this.items.length;\n            }\n\n\n            this.current = prevIndex;\n\n            for(let index = 0; index < this.items.length; index++){\n\n                if(index==prevIndex){\n                  this.items[index].class = \"showItem\";\n                }else{\n                  this.items[index].class = \"hideItem\";\n                }\n\n            }\n\n        }\n\n      }\n\n      nextItem(item:any){\n\n        if(this.items.length){\n\n            let currentIndex = this.items.indexOf(item);\n            let nextIndex = (currentIndex + 1) % this.items.length;\n\n            this.current = nextIndex;\n\n\n            for(let index = 0; index < this.items.length; index++){\n\n                if(index==nextIndex){\n                  this.items[index].class = \"showItem\";\n                }else{\n                  this.items[index].class = \"hideItem\";\n                }\n\n            }\n\n        }\n\n      }\n\n\n\n\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n  .carousel-wrapper {\n    overflow: hidden;\n    width: 90%;\n    margin: 0px;\n  }\n\n  .showItem{\n    display: block;\n  }\n\n  .hideItem{\n    display: none;\n  }\n\n  .nextPrevDimension{\n    height: 3.3rem;\n    width:  3.3rem;\n    font-weight: bolder;\n    background-color: #F1F5FA;\n  }\n\n\n\n</style>\n"]}]}