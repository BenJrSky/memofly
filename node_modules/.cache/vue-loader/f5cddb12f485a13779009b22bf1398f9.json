{"remainingRequest":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/LastMessagesTable.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/src/components/LastMessagesTable.vue","mtime":1630356691227},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/babel-loader/lib/index.js","mtime":1630067775262},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/ts-loader/index.js","mtime":1630067785662},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/cache-loader/dist/cjs.js","mtime":1630067776591},{"path":"/Users/ben/Desktop/BEN/WORKS/FLYIP/VUE/node_modules/vue-loader/lib/index.js","mtime":1630067786533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4vY29tbW9uL1BhZ2luYXRpb24udnVlJzsKaW1wb3J0IERpYWxvZyBmcm9tICcuL2NvbW1vbi9EaWFsb2cudnVlJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBHRVRMYXN0TWVzc2FnZXMgfSBmcm9tICcuLy4uL21lbW9GbHktYXBpL2Rhc2hib2FyZC9HRVRMYXN0TWVzc2FnZXMuanMnCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAiLi4vc2VydmljZXMvVG9hc3QuanMiOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbiwKICAgIERpYWxvZwogIH0sCn0pCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBMYXN0TWVzc2FnZXNUYWJsZSBleHRlbmRzIFZ1ZSB7CiAgCiAgICBwdWJsaWMgZGF0YU1lc3NhZ2VzIDphbnk7CiAgICBwdWJsaWMgbWVzc2FnZXMgOmFueSA9IFtdOwoKICAgIGRhdGEoKSB7CiAgICAgICAKICAgICAgIHRoaXMuaW5pdCgpOwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBtZXNzYWdlczogdGhpcy5tZXNzYWdlcywKICAgICAgICAgICAgZGF0YU1lc3NhZ2VzOnRoaXMuZGF0YU1lc3NhZ2VzLAogICAgICAgIH0KICAgICAgICAKICAgIH0KCiAgICBpbml0KCl7CiAgICAgICAgCiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdOwogICAgICAgIHRoaXMuZGF0YU1lc3NhZ2VzID0gW107CgogICAgICAgIEdFVExhc3RNZXNzYWdlcygpCiAgICAgICAgICAgIC50aGVuKChkYXRhTWVzc2FnZXM6YW55KT0+ewoKICAgICAgICAgICAgICAgIGlmKGRhdGFNZXNzYWdlcy5kYXRhKXsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IGRhdGFNZXNzYWdlcy5kYXRhLm1hcCgoZGF0YTphbnkpID0+ewoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpemlvOiBkYXRhLnNlcnZpemlvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JhOiBtb21lbnQoZGF0YS5vcmEpLmZvcm1hdCgiaGg6bW0iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWVyb1RlbGVmb25vOiBkYXRhLm51bWVyb1RlbGVmb25vLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlwb01lc3NhZ2dpbzogZGF0YS50aXBvTWVzc2FnZ2lvCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0gW107CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnZGF0YUFwaScsdGhpcy5tZXNzYWdlcyk7CgogICAgICAgICAgICB9KQoKICAgICAgICAgICAgdGhpcy4kcm9vdC4kb24oJ2RhdGFPdXRwdXQnLCAoZGF0YTphbnkpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YU1lc3NhZ2VzID0gZGF0YTsKICAgICAgICAgICAgfSk7CgogICAgfQoKICAgIGRlbGV0ZU1lc3NhZ2UobWVzc2FnZTphbnkpewoKICAgIH0KCgoKCgoKfQo="},{"version":3,"sources":["LastMessagesTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;AAOA","file":"LastMessagesTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row\">\n      <div class=\"col-12\">\n          <div class=\"card\">\n              <div class=\"card-body\">\n                  <h4 class=\"header-title mt-0 mb-4  mt-3 font-poppins size-16 weight-700\">Ultimi messaggi</h4>\n                  <div class=\" browser_users\">\n                      <table class=\"table mb-0\">\n                          <thead class=\"thead-light\">\n                              <tr class=\"col-12 font-poppins weight-700 size-14\">\n                                  <th class=\"col-3 border-top-0\">Servizio</th>\n                                  <th class=\"col-1 border-top-0\">Ora</th>\n                                  <th class=\"col-2 border-top-0\">Telefono</th>\n                                  <th class=\"col-2 border-top-0\">Tipo Messaggio</th>\n                                  <th class=\"col-1\"></th>\n                              </tr>\n                          </thead>\n                          <tbody>\n                            <tr  v-for=\"message in dataMessages\" :key=\"message\" class=\"font-poppins weight-500 size-14\">   \n                                <td><i class=\"mdi mdi-circle-slice-8 mr-2 text-warning font-16\"></i>{{ message.servizio }}</td>\n                                <td>{{ message.ora }}</td>   \n                                <td>{{ message.numeroTelefono }}</td>   \n                                <td>{{ message.tipoMessaggio }}</td>      \n                                <td name=\"buttons\" class=\"p-0\">\n                                    <div class=\"col-12 m-0\">\n                                        <button id=\"bElim\" type=\"button\" class=\"btn btn-sm btn-soft-danger btn-circle  float-right\" v-on:click=\"deleteMessage(message);\">\n                                            <i class=\"dripicons-trash\" aria-hidden=\"true\"></i>\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n                          </tbody>\n                      </table>   \n\n                    <Pagination/>\n\n                    <Dialog/>\n\n                  </div><!--end /div-->\n              </div><!--end card-body-->\n          </div><!--end card-->\n      </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport Pagination from './common/Pagination.vue';\nimport Dialog from './common/Dialog.vue';\nimport moment from 'moment';\nimport { GETLastMessages } from './../memoFly-api/dashboard/GETLastMessages.js'\nimport { Toast } from \"../services/Toast.js\";\n\n@Component({\n  components: {\n    Pagination,\n    Dialog\n  },\n})\n\nexport default class LastMessagesTable extends Vue {\n  \n    public dataMessages :any;\n    public messages :any = [];\n\n    data() {\n       \n       this.init();\n\n        return {\n            messages: this.messages,\n            dataMessages:this.dataMessages,\n        }\n        \n    }\n\n    init(){\n        \n        this.messages = [];\n        this.dataMessages = [];\n\n        GETLastMessages()\n            .then((dataMessages:any)=>{\n\n                if(dataMessages.data){\n\n                    this.messages = dataMessages.data.map((data:any) =>{\n\n                        return { \n                            id: data.id,\n                            servizio: data.servizio,\n                            ora: moment(data.ora).format(\"hh:mm\"),\n                            numeroTelefono: data.numeroTelefono,\n                            tipoMessaggio: data.tipoMessaggio\n                        }\n\n                    })\n\n                }else{\n                    this.messages = [];\n                }\n\n                this.$root.$emit('dataApi',this.messages);\n\n            })\n\n            this.$root.$on('dataOutput', (data:any) => {\n                this.dataMessages = data;\n            });\n\n    }\n\n    deleteMessage(message:any){\n\n    }\n\n\n\n\n\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n\n</style>\n"]}]}